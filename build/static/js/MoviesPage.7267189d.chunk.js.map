{"version":3,"sources":["components/Pages/MoviesPage.jsx"],"names":["MoviesPage","useState","inputValue","setInputValue","data","setData","input","localStorage","getItem","location","useLocation","useEffect","getMovies","a","getSearchMovie","results","console","log","onSubmit","e","preventDefault","onChange","target","value","type","placeholder","map","mov","to","pathname","id","state","from","title"],"mappings":"oQAMaA,EAAa,WAEtB,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACMC,EAAQC,aAAaC,QANX,SAORC,EAAWC,cAInBC,qBAAU,WACFL,IACAH,EAAcG,GACdM,EAAUN,MAEf,CAACA,IAEJ,IAIMM,EAAS,uCAAG,WAAON,GAAP,eAAAO,EAAA,+EAESC,YAAeR,GAFxB,OAEJF,EAFI,OAGVC,EAAQD,EAAKW,SAHH,gDAKVC,QAAQC,IAAR,MALU,yDAAH,sDAiBf,OACI,qCACI,uBAAMC,SATQ,SAACC,GACnBA,EAAEC,iBAEFR,EAAUV,IAMN,UACI,uBAAOmB,SAxBE,SAACF,GAClBhB,EAAcgB,EAAEG,OAAOC,QAuBgBC,KAAK,OAAQC,YAAanB,GAAgB,uBACzE,wBAAQkB,KAAK,SAAb,uBAER,6BACCpB,EAAKsB,KAAI,SAAAC,GAAG,OACb,6BACI,cAAC,IAAD,CAAMC,GAAI,CACNC,SAAS,UAAD,OAAYF,EAAIG,IACxBC,MAAO,CAACC,KAAMvB,IAFlB,SAGI,4BAAMkB,EAAIM,WAJPN,EAAIG,aAYR9B","file":"static/js/MoviesPage.7267189d.chunk.js","sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\"\r\nimport { getSearchMovie } from '../servises/articlesApi'\r\n\r\nconst STORAGE_KEY = 'input'\r\n\r\nexport const MoviesPage = () => {\r\n\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [data, setData] = useState([]);\r\n    const input = localStorage.getItem(STORAGE_KEY);\r\n      const location = useLocation()\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if (input) {\r\n            setInputValue(input);\r\n            getMovies(input);\r\n        }\r\n    }, [input])\r\n\r\n    const inputHandler = (e) => {\r\n        setInputValue(e.target.value);\r\n    }\r\n\r\n    const getMovies = async (input) => {\r\n        try {\r\n            const data = await getSearchMovie(input);\r\n            setData(data.results);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        //localStorage.setItem(STORAGE_KEY, inputValue);\r\n        getMovies(inputValue);\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={submitHandler}  >\r\n                <input onChange={inputHandler} type=\"text\"  placeholder={input ? input : 'Enter movie name..'} />\r\n                <button type='submit'>Search</button>\r\n        </form>\r\n        <ul >\r\n        {data.map(mov => (\r\n        <li key = {mov.id}> \r\n            <Link to={{\r\n                pathname: `movies/${mov.id}`,\r\n                state: {from: location}}} >\r\n                <p  >{mov.title}</p>\r\n            </Link>\r\n          </li>\r\n          ))}\r\n            </ul>\r\n            </>\r\n    )\r\n}\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}